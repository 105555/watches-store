import{_ as f,r as m,o as n,Q as p,f as a,e as s,g,d as i,w,c as x,t as d,b as V,P as v}from"./index-9e565168.js";import{c as y,a as C}from"./firebase-1713f494.js";import{V as S}from"./VForm-f35b35a1.js";import{V as b}from"./VRow-e33d4956.js";import{V as k}from"./VTextField-1375514e.js";import{V as c}from"./VBtn-acc3bfeb.js";import{n as u,p as E}from"./VCard-6769d99c.js";import{V as F}from"./VDialog-8e304d23.js";import{V as M}from"./VContainer-87c0ea69.js";import"./forwardRefs-612f8129.js";import"./lazy-43f8a239.js";/* empty css              */import"./index-714d60d8.js";import"./dialog-transition-82485eed.js";const B={name:"ForgotpwdMain",data(){return{form:!1,loading:!1,emailError:"",user:{email:""},isShow:!1,dialogtext:""}},methods:{resend(){y(C,this.user.email).then(()=>{this.dialogtext="已寄送信件,請查看您的信箱以重設密碼",this.loading=!0,this.isShow=!0,this.user={email:""},setTimeout(()=>{m.push({name:"Login"})},500)}).catch(r=>{switch(r.code){case"auth/missing-email":this.dialogtext="請輸入電子郵件",this.isShow=!0,this.loading=!1;break;case"auth/invalid-email":this.dialogtext="請輸入正確的電子郵件格式",this.isShow=!0,this.loading=!1;break}})},Cancle(){m.push({name:"Login"})}},computed:{dynamicWidth(){switch(this.$vuetify.display.name){case"xs":return 320;case"md":return 700;default:return 800}}},watch:{"user.email":function(r){/^\S+@\S+\.\S+$/.test(r)?this.emailError="":this.emailError="請輸入有效的Email格式"}}},N=i("div",{class:"mb-8 text-h4"},"重設密碼",-1),P=i("div",{class:"text-caption"},"我們會寄信給您，讓您重新設定密碼。",-1),T={key:0,class:"text-red text-h7 my-n5"},D={class:"text-center"},L={class:"mt-7 mb-3"};function R(r,e,h,_,t,l){return n(),p(M,{class:"bg-teal-lighten-5 fill-height pa-12",fluid:""},{default:a(()=>[s(u,{"max-width":l.dynamicWidth,class:"ma-auto px-6 py-8 w-100"},{default:a(()=>[s(S,{ref:"form"},{default:a(()=>[N,P,s(b,{class:"align-center mb-1 mt-5"},{default:a(()=>[s(k,{label:"Email...",class:"mr-2",modelValue:t.user.email,"onUpdate:modelValue":e[0]||(e[0]=o=>t.user.email=o)},null,8,["modelValue"]),s(c,{type:"submit",loading:t.loading,onClick:l.resend},{default:a(()=>[g("提交")]),_:1},8,["loading","onClick"])]),_:1}),i("div",{class:"text-h10 fw-4",style:{cursor:"pointer"},onClick:e[1]||(e[1]=w((...o)=>l.Cancle&&l.Cancle(...o),["prevent"]))}," 取消 "),t.emailError?(n(),x("div",T,d(t.emailError),1)):V("",!0)]),_:1},512)]),_:1},8,["max-width"]),s(F,{modelValue:t.isShow,"onUpdate:modelValue":e[3]||(e[3]=o=>t.isShow=o),"max-width":"350px",transition:"dialog-top-transition",class:"mt-n16"},{default:a(()=>[i("div",D,[s(u,null,{default:a(()=>[i("div",L,[i("div",null,d(t.dialogtext),1)]),s(E,{class:"mb-3 d-flex justify-center tonal"},{default:a(()=>[s(c,{text:"確認",onClick:e[2]||(e[2]=o=>t.isShow=!1),color:"#5865f2",variant:"flat"})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})}const U=f(B,[["render",R]]),W={name:"ForgotPwd",components:{ForgotpwdMain:U}};function j(r,e,h,_,t,l){const o=v("Forgotpwd-Main");return n(),p(o)}const ee=f(W,[["render",j]]);export{ee as default};
